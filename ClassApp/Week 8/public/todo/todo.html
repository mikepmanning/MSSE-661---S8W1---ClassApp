<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <link rel="stylesheet" href="../css/flexbox.css" />
        <title>Tasks List</title>
    </head>
    <body>
        <div class="main">
            <header>
                <nav>
                    <ul>
                        <li><a href="./home.html">Home</a></li>
                        <li><a href="./about.html">About</a></li>
                        <li><button onclick="user.displayUpdateUserModel(event)">Update User</button></li>
                        <li><button onclick="doLogout(event)">Logout</button></li>
                    </ul>
                </nav>
            </header>

            <div class="content">

                <div id="tasksContainer">
                    <div id="createButtonDiv">
                        <button onclick="todo.showCreateModal()">Create New Task</button>
                    </div>


                    <div id="tasks">
                        Loading...
                    </div>
                </div>
            </div>

            <footer>
                <div class="stack">
                    <nav>
                        <ul>
                            <li><a href="./index.html">Home</a></li>
                            <li><a href="./about.html">About</a></li>
                        </ul>
                    </nav>
                    <p>Author: <a href="https://www.github.com/mikepmanning/MSSE-661---S8W1---ClassApp">Michael Manning</a></p>
                </div>
            </footer>
        </div>

        <div class="modal" id="updateTaskModal" style="display: none;">
            <div class="modal-content">
                <header>
                    <div id="modalTitle">Update Task</div>
                    <span class="close-button" onclick="todo.hideModal()">&times;</span> 
                </header>
              <input type="hidden" id="taskIdInput">

              <label for="taskNameInput" class="input-label">Name:</label>
              <input type="text" id="taskNameInput">


              <label for="taskStatusSelect" class="input-label">Status:</label>
              <select id="taskStatusSelect">
                <option value="pending">Pending</option>
                <option value="completed">Completed</option>
              </select>
              <footer>
                <button id="modalSubmitButton" onclick="todo.updateTaskFromModal()">Submit</button>
                <button onclick="todo.hideModal()">Cancel</button>
              </footer>
            </div>
        </div>

        <div class="modal-overlay" id="modalOverlay"></div>
        <div class="modal" id="updateUserModal" style="display: none;">
            <div class="modal-content">
                <header>
                    <div id="modalTitle">Update User</div>
                    <span class="close-button" onclick="user.hideModal()">&times;</span> 
                </header>
                <input type="hidden" id="update-userId">
                <div class="align-label">
                    <label for="update-firstname">
                        First Name:
                    </label>
                    <input id="update-firstname" type="text" placeholder="John" />
                </div>
                
                <div class="align-label">
                    <label for="update-middlename">
                        Middle Name:
                    </label>
                    <input id="update-middlename" type="text" placeholder="D" />
                </div>
                
                <div class="align-label">
                    <label for="update-lastname">
                        Last Name:
                    </label>
                    <input id="update-lastname" type="text" placeholder="Doe" />
                </div>

                <div class="align-label">
                    <label for="update-birthdate">
                        Birthdate:
                    </label>
                    <input id="update-birthdate" type="date" />
                </div>
                
                <div class="align-label">
                    <label for="update-email">
                        Email:
                    </label>
                    <input id="update-email" type="email" placeholder="myemail@email.com" />
                </div>
                <div class="align-label">
                    <label for="update-username">
                        Username:
                    </label>
                    <input id="update-username" type="text" placeholder="Username"/>
                </div>

                <div class="align-label">
                    <label for="update-old-password">
                        Old Password:
                    </label>
                    <input id="update-old-password" type="password" />
                </div>
                
                <div class="align-label">
                    <label for="update-new-password">
                        New Password:
                    </label>
                    <input id="update-new-password" type="password" />
                </div>
              
              <footer>
                <button id="modalSubmitButton" onclick="user.updateUser(event)">Update</button>
                <button onclick="user.hideModal()">Cancel</button>
              </footer>
            </div>
        </div>
    </body>

    <script src="../js/api.config.js"></script>
    <script src="../js/simple-storage.js"></script>
    <script src="../js/service-helpers.js"></script>
    <script src="../js/auth.service.js"></script>
    <script src="../js/tasks.service.js"></script>
    <script src="../js/user.service.js"></script>
    <script src="../js/user.js"></script>
    <script src="../js/route-guard.js"></script>
    <script src="./todo.js"></script>
    <script src="../js/app.js"></script>
    <script src="../js/init.js"></script>
</html>